<?xml version="1.0"?>
<launch>
  <!-- 参数 -->
  <arg name="platform" default="differential" doc="Platform type: differential, omni, ackermann, quadrotor"/>
  <arg name="use_sim_time" default="false"/>
  
  <!-- 设置仿真时间 -->
  <param name="/use_sim_time" value="$(arg use_sim_time)"/>
  
  <!-- 加载参数 -->
  <rosparam file="$(find controller_ros)/config/controller_params.yaml" command="load"/>
  <rosparam file="$(find controller_ros)/config/$(arg platform).yaml" command="load"/>
  
  <!-- 控制器节点 -->
  <node pkg="controller_ros" type="controller_node.py" name="universal_controller_node" output="screen">
    <param name="platform_type" value="$(arg platform)"/>
    
    <!-- 
    话题配置说明:
    话题名通过参数配置 (topics/* 或 ~topic_name)，不使用 remap。
    默认话题在 controller_params.yaml 中定义。
    如需修改话题，请修改 YAML 配置或使用私有参数覆盖:
      <param name="~odom" value="/custom/odom"/>
    -->
  </node>
</launch>
